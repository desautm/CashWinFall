---
title: "Comment gagner de l'argent sans se fatiguer..."
subtitle: "(...en se fatiguant un peu quand même...)"
author: "[Marc-André Désautels](https://madesautels.rbind.io) "
date: "Octobre 2021 <br><br> Présentation disponible à https://desautm.github.io/CashWinFall <br> Code disponible à  https://github.com/desautm/CashWinFall"
output:
  xaringan::moon_reader:
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
---

background-image: url(http://www.global-lottery-review.com/images/MassLotteryCashWinfallAt80.gif)
background-size: contain

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```

---

## Comment ça fonctionne la loterie?

- Nous nous intéressons aux loteries de type $k/n$.

- C'est-à-dire que $k$ numéros sont tirés (sans remise) à partir d'un ensemble de $n$ numéros (les $n$ premiers entiers excluant le zéro).

- Les $k$ numéros tirés sont ensuite placés en ordre croissant, ce qui implique que l'acheteur n'a pas à choisir ses numéros dans l'ordre.

- Le gros lot est gagné si les $k$ numéros choisis par l'acheteur sont ceux pigés.

- D'autres lots peuvent être gagnés en ayant choisi $l$ numéros parmi les $k$ pigés, avec $l<k$.

---
class: center, middle

## Cash WinFall, le lundi 23 janvier 2012

<iframe width="560" height="315" src="https://www.youtube.com/embed/Y35uQ7b45qs" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

---

## Un peu d'histoire

- **CASH WinFall** est une loterie de l'état du Massachusets qui a remplacé la loterie **Mass Millions** le 9 septembre 2004.

- La première pige s'est déroulée le 13 septembre de la même année. La dernière pige a eue lieu le 26 janvier 2012.

- C'est une loterie du type 6/46.

- Le prix d'un billet était de 2$ US.

- Le gros lot débutait toujours à 500 000$ US.

- Pour gagner, les possibilités étaient:

    - Les 6 numéros
    - 5 numéros sur 6
    - 4 numéros sur 6
    - 3 numéros sur 6
    - 2 numéros sur 6

---
class: inverse, center, middle

# Un peu de probabilités

---

## Les combinaisons

- En mathématiques, une combinaison est une sélection d'objets choisis parmi une collection, de telle manière à ce que l'ordre de sélection n'a pas d'importance.

- Plus formellement, une $k$-combinaison d'un ensemble $S$ est un sous-ensemble de $k$ éléments distincts de $S$. Si l'ensemble possède $n$ éléments, le nombre de $k$-combinaisons est égal au coefficient binomial.

- Le coefficient binomial est noté $\binom{n}{k}=C_k^n=\dfrac{n!}{k!(n-k)!}$.

---

## Une combinaison de 3 parmi 5

$$\binom{5}{3}=C_3^5=\dfrac{5!}{3!(5-3)!}=10$$

```{tikz,tikz-coefficient-binomial,fig.align="center",cache=TRUE,echo=FALSE}
\usetikzlibrary{calc}
\begin{tikzpicture}[scale=0.25]

\foreach \i in {1,2,...,5}{
	\node[above] at ($(\i,0)+(0.5,1)$) {\small\i};
}

\foreach \j [evaluate={\k=int(-1*\j+1)}] in {0,-1,...,-9}{
	\node[left,text=lightgray] at ($(1,\j)+(0,0.5)$) {\small\k};
}


\foreach \j in {0,-1,...,-9}{
	\foreach \i in {1,2,...,5}{
		\draw[thick] (\i,\j) rectangle++ (1,1);
	}
}

\foreach \i/\j/\k/\h in {
	1/2/3/0,
	1/2/4/-1,
	1/2/5/-2,
	1/3/4/-3,
	1/3/5/-4,
	1/4/5/-5,
	2/3/4/-6,
	2/3/5/-7,
	2/4/5/-8,
	3/4/5/-9
}{
	\draw[thick,fill=red] (\i,\h) rectangle++ (1,1);
	\draw[thick,fill=red] (\j,\h) rectangle++ (1,1);
	\draw[thick,fill=red] (\k,\h) rectangle++ (1,1);
}

\begin{scope}[xshift=6cm]

\foreach \j in {0,-1,...,-9}{
	\foreach \i in {1,2,3}{
		\draw[thick] (\i,\j) rectangle++ (1,1);
	}
}

\foreach \i/\j/\k/\h in {
	1/2/3/0,
	1/2/4/-1,
	1/2/5/-2,
	1/3/4/-3,
	1/3/5/-4,
	1/4/5/-5,
	2/3/4/-6,
	2/3/5/-7,
	2/4/5/-8,
	3/4/5/-9
}{
	\node at ($(1,\h)+(0.5,0.5)$) {\small\i};
	\node at ($(2,\h)+(0.5,0.5)$) {\small\j};
	\node at ($(3,\h)+(0.5,0.5)$) {\small\k};
}

\end{scope}

\end{tikzpicture}
```

---

## L'espérance mathématique

- En théorie des probabilités, l'espérance mathématique d'une variable aléatoire réelle est, intuitivement, la valeur que l'on s'attend à trouver, en moyenne, si l'on répète un grand nombre de fois la même expérience aléatoire. 

- Elle se note $E(X)$.

- Elle correspond à une moyenne pondérée des valeurs que peut prendre cette variable. 

- Dans le cas où celle-ci prend un nombre fini de valeurs, il s'agit d'une moyenne pondérée par les probabilités d'apparition de chaque valeur.

- Si la variable X prend les valeurs $x_1$, $x_2$, ..., $x_n$ avec les probabilités $p_1$, $p_2$, ..., $p_n$, l'espérance de X est définie comme: $$E(X)=x_1p_1+x_2p_2+\ldots+x_np_n$$

---

## Une fausse loterie

- Supposons que le billet coûte 2$.

- Vous avez une chance sur 200 de gagner 300$.

- Si vous jouez 1 000 fois, vous allez probablement gagner 5 fois, vous devriez gagner 1 500$, soit 1,50$ par billet.

--

- **Mais le billet coûte 2$!**

--

| Bénéfice    |       298$      |        -2$        |  Somme |
|-------------|:---------------:|:-----------------:|:------:|
| Probabilité | $\frac{1}{200}$ | $\frac{199}{200}$ |    1   |
| Espérance   |      1,49$      |       -1,99$      | -0,50$ |

- On perd donc 0,50$ à chaque achat de billet.

---

## Cash WinFall : les probabilités

- Les 6 numéros: $\dfrac{\binom{6}{6}}{\binom{46}{6}}= \dfrac{1}{9\ 366\ 819}$

- 5 numéros sur 6: $\dfrac{\binom{6}{5}\binom{40}{1}}{\binom{46}{6}}= \dfrac{240}{9\ 366\ 819} \approx \dfrac{1}{39\ 028,41}$

- 4 numéros sur 6: $\dfrac{\binom{6}{4}\binom{40}{2}}{\binom{46}{6}}= \dfrac{11\ 700}{9\ 366\ 819} \approx \dfrac{1}{800,58}$

- 3 numéros sur 6: $\dfrac{\binom{6}{3}\binom{40}{3}}{\binom{46}{6}}= \dfrac{11\ 700}{9\ 366\ 819} \approx \dfrac{1}{47,40}$

- 2 numéros sur 6: $\dfrac{\binom{6}{2}\binom{40}{4}}{\binom{46}{6}}= \dfrac{1\ 370\ 850}{9\ 366\ 819} \approx \dfrac{1}{6,83}$

---

## Cash WinFall

| Nombre de numéros | Probabilité              | Prix           |
|-------------------|--------------------------|----------------|
| Les 6 numéros     | 1 chance sur 9,3 million | Variable       |
| 5 numéros sur 6   | 1 chance sur 39 028,41   | 4 000$         |
| 4 numéros sur 6   | 1 chance sur 800,58      | 150$           |
| 3 numéros sur 6   | 1 chance sur 47,40       | 5$             |
| 2 numéros sur 6   | 1 chance sur 6,83        | Billet gratuit |

$$\dfrac{1\ 000\ 000\$}{9\ 300\ 000}+\dfrac{4\ 000\$}{39\ 028,41}+\dfrac{150\$}{800,58}+\dfrac{5\$}{47,40}+\dfrac{2\$}{6,83}=0,80\$$$

--

.center[
# 0,80$
]

---

background-image: url(https://highline.huffingtonpost.com/articles/en/lotto-winners/media/images/lotto_twitter.jpg)
background-size: contain

???

Image credit: [Huffington Post](https://highline.huffingtonpost.com/articles/en/lotto-winners/)


